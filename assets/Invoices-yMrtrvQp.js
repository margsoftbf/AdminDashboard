import{r,j as e,l as w,m as j}from"./index-lfjWVBkg.js";import{m as p}from"./motion-vh7A1K5d.js";import{v as N}from"./v4-yQnnJER4.js";function y({title:l,titleId:s,...o},u){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:u,"aria-labelledby":s},o),l?r.createElement("title",{id:s},l):null,r.createElement("path",{d:"M10.75 6.75a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z"}))}const C=r.forwardRef(y),v=C,k=({invoice:l,onEdit:s,onDelete:o})=>e.jsxs("div",{className:"bg-lightGray rounded-md p-4 mb-4 flex flex-col sm:flex-row sm:justify-around",children:[e.jsxs("div",{className:"flex justify-between items-center sm:justify-start sm:w-full sm:gap-4",children:[e.jsxs("p",{className:"text-xs text-white font-semibold",children:[e.jsx("span",{className:"text-darkViolet font-semibold mr-1",children:"#"}),l.id.slice(0,6)]}),e.jsx("p",{className:"text-xs text-white font-semibold",children:l.clientName})]}),e.jsxs("div",{className:"flex justify-between items-center my-2 sm:justify-between sm:w-full",children:[e.jsxs("p",{className:"text-white font-semibold",children:[e.jsx("span",{className:"text-green-600 font-semibold mr-1",children:"$"}),l.amount]}),e.jsxs("div",{className:`flex justify-center space-x-2 rounded-lg items-center px-2 py-1 bg-opacity-70 ${l.status==="Paid"?"bg-green-900":l.status==="Pending"?"bg-[#ff8f00]":l.status==="Cancelled"?"bg-red-500":""}`,children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${l.status==="Paid"?"bg-green-700":l.status==="Pending"?"bg-[#ff8f00]":l.status==="Cancelled"?"bg-red-500":""}`}),e.jsx("p",{className:`font-semibold opacity-100 ${l.status==="Paid"?"text-green-600":l.status==="Pending"?"text-yellow-300":l.status==="Cancelled"?"text-red-300":""}`,children:l.status})]})]}),e.jsxs("div",{className:"flex justify-between items-center sm:justify-end sm:w-full",children:[e.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded",onClick:()=>s(l.id),children:"Edit"}),e.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded ml-2",onClick:()=>o(l.id),children:"Delete"})]})]}),A=({onSave:l,editedInvoice:s,onClearEdit:o,isOpen:u,closeModal:x})=>{var n;const[a,i]=r.useState({clientName:(s==null?void 0:s.clientName)||"",emailAddress:(s==null?void 0:s.emailAddress)||"",streetAddress:(s==null?void 0:s.streetAddress)||"",city:(s==null?void 0:s.city)||"",state:(s==null?void 0:s.state)||"",zipCode:(s==null?void 0:s.zipCode)||"",amount:((n=s==null?void 0:s.amount)==null?void 0:n.toString())||"0",status:(s==null?void 0:s.status)||"Paid"}),c=document.getElementById("modal-root"),[d,g]=r.useState({}),h=()=>{const t={};return a.clientName||(t.clientName="Name is required"),a.emailAddress||(t.emailAddress="Email is required"),a.amount==="0"&&(t.amount="Amount is required"),Object.keys(t).length>0?(g(t),!1):(g({}),!0)};r.useEffect(()=>{s&&i({clientName:s.clientName,emailAddress:s.emailAddress,streetAddress:s.streetAddress,city:s.city,state:s.state,zipCode:s.zipCode,amount:s.amount.toString(),status:s.status})},[s]);const f=t=>{t.preventDefault(),h()&&(l({...a,zipCode:Number(a.zipCode),amount:Number(a.amount)}),i({clientName:"",emailAddress:"",streetAddress:"",city:"",state:"",zipCode:0,amount:"",status:"Paid"}),o(),x())};if(!u)return null;if(c!==null)return w.createPortal(e.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black/50 flex justify-center items-center z-70 p-4",children:e.jsxs("form",{className:" bg-lightGray p-2 rounded-md lg:max-w-[80%] max-h-[80%] overflow-auto",children:[e.jsxs("div",{className:"border-b border-white/10 pb-12",children:[e.jsx("h2",{className:"text-base font-semibold leading-7 text-white",children:"Bill To"}),e.jsx("p",{className:"mt-1 text-sm leading-6 text-gray-400",children:"Use a permanent address where you can receive mail."}),e.jsxs("div",{className:"mt-10 grid grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-8",children:[e.jsxs("div",{className:"col-span-2 lg:col-span-4",children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium leading-6 text-white",children:"Client Name"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"text",name:"first-name",id:"first-name",autoComplete:"given-name",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",onChange:t=>i({...a,clientName:t.target.value}),value:a.clientName}),d.clientName&&e.jsx("p",{className:"text-xs font-semibold text-red-500 mt-1",children:d.clientName})]})]}),e.jsxs("div",{className:"col-span-2 lg:col-span-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-white",children:"Email address"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",onChange:t=>i({...a,emailAddress:t.target.value}),value:a.emailAddress}),d.emailAddress&&e.jsx("p",{className:"text-xs font-semibold text-red-500 mt-1",children:d.emailAddress})]})]}),e.jsxs("div",{className:"col-span-2 lg:col-span-2",children:[e.jsx("label",{htmlFor:"street-address",className:"block text-sm font-medium leading-6 text-white",children:"Street address"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"text",name:"street-address",id:"street-address",autoComplete:"street-address",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",onChange:t=>i({...a,streetAddress:t.target.value}),value:a.streetAddress})})]}),e.jsxs("div",{className:"col-span-2 lg:col-span-2",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium leading-6 text-white",children:"City"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"text",name:"city",id:"city",autoComplete:"address-level2",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",onChange:t=>i({...a,city:t.target.value}),value:a.city})})]}),e.jsxs("div",{className:"col-span-2 lg:col-span-2",children:[e.jsx("label",{htmlFor:"region",className:"block text-sm font-medium leading-6 text-white",children:"State / Province"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"text",name:"region",id:"region",autoComplete:"address-level1",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",onChange:t=>i({...a,state:t.target.value}),value:a.state})})]}),e.jsxs("div",{className:"col-span-2 lg:col-span-2",children:[e.jsx("label",{htmlFor:"postal-code",className:"block text-sm font-medium leading-6 text-white",children:"ZIP / Postal code"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"number",name:"postal-code",id:"postal-code",autoComplete:"postal-code",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",onChange:t=>i({...a,zipCode:t.target.value}),value:a.zipCode})})]}),e.jsxs("div",{className:"col-span-2 lg:col-span-2",children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-medium leading-6 text-white",children:"Status"}),e.jsx("div",{className:"mt-2",children:e.jsxs("select",{id:"status",name:"status",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6 [&_*]:text-black",onChange:t=>i({...a,status:t.target.value}),value:a.status,children:[e.jsx("option",{children:"Paid"}),e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"Cancelled"})]})})]}),e.jsxs("div",{className:"col-span-2 lg:col-span-2",children:[e.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium leading-6 text-white",children:"Amount"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{type:"number",name:"amount",id:"amount",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6",onChange:t=>i({...a,amount:t.target.value}),value:a.amount}),d.amount&&e.jsx("p",{className:"text-xs font-semibold text-red-500 mt-1",children:d.amount})]})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[e.jsx("button",{onClick:x,type:"button",className:"rounded-md bg-rose-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-rose-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-500",children:"Cancel"}),e.jsx("button",{onClick:f,type:"submit",className:"rounded-md bg-indigo-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:s?"Update Invoice":"Add Invoice"})]})]})}),c)},F=()=>{const[l,s]=r.useState(!1),o=()=>s(!0),u=()=>s(!1),[x,a]=r.useState([...j]),[i,c]=r.useState(void 0),d=n=>{if(i)a(t=>t.map(m=>m.id===i.id?{...m,...n}:m)),c(void 0);else{const m={id:N(),...n};a(b=>[...b,m])}},g=n=>{const t=x.find(m=>m.id===n);t&&(o(),c(t))},h=n=>{a(t=>t.filter(m=>m.id!==n)),c(void 0)},f=()=>{c(void 0)};return e.jsxs(p.div,{className:"p-2 lg:p-4 max-w-5xl flex flex-col mx-auto my-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,ease:[.6,-.05,.01,.99]},children:[e.jsxs("div",{className:"flex md:items-center justify-between mb-4",children:[e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("h2",{className:"text-3xl font-bold leading-7 text-white sm:truncate  sm:tracking-tight",children:"Invoices"})}),e.jsx("div",{className:"flex md:ml-4",children:e.jsxs("button",{onClick:o,type:"button",className:"ml-3 inline-flex items-center rounded-md bg-indigo-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:[e.jsx(v,{className:"-ml-1.5 h-5 w-5","aria-hidden":"true"}),"New invoice"]})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{children:x.map((n,t)=>e.jsx(p.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0,transition:{delay:t*.2}},exit:{opacity:0,y:50},transition:{duration:.5},children:e.jsx(k,{invoice:n,onEdit:g,onDelete:h},n.id)},n.id))}),e.jsx(A,{isOpen:l,closeModal:u,onSave:d,editedInvoice:i,onClearEdit:f})]})]})};export{F as default};
